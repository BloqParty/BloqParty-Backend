// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model user {
  id          Int     @id @default(autoincrement())
  username    String  @unique
  password    String
  apikey      String
  description String  @default("No description for user")
  admin       Boolean @default(false)
}

model score {
  userId                  Int           @id
  modifiedScore           String
  multipliedScore         String
  misses                  Int
  badCuts                 Int
  fullCombo               Boolean
  accuracy                Float
  leftHandAverageScore    Float
  rightHandAverageScore   Float
  leftHandTimeDependency  Float
  rightHandTimeDependency Float
  perfectStreak           Int
  fullComboAccuracy       Float
  metadata                scoreMetadata @relation(fields: [scoreMetadataId], references: [id]) // Generated by prisma format
  scoreMetadataId         Int // Generated by prisma format
}

model leaderboard {
  hash                           String              @unique
  scoreCount                     Int                 @default(0)
  starRating                     Float?              
  metadata                       leaderboardMetadata @relation(fields: [leaderboardMetadataBeatSaverId], references: [beatSaverId]) // Generated by prisma format
  leaderboardMetadataBeatSaverId String // Generated by prisma format
}

model leaderboardMetadata {
  beatSaverId String        @id @unique
  name        String
  mappers     String
  artists     String
  cover       String
  leaderboard leaderboard[] // Generated by prisma format
}

model scoreMetadata {
  id             Int      @id @default(autoincrement())
  timeSet        String
  hash           String
  characteristic String
  hmd            String
  score          score[] // Generated by prisma format
}
